CREATE DATABASE IF NOT EXISTS iqaten;

USE iqaten;

CREATE TABLE Client(
   client_id INT,
   client_raison_sociale VARCHAR(50) NOT NULL,
   client_siren VARCHAR(50) NOT NULL,
   client_responsable_legale VARCHAR(50),
   client_adresse VARCHAR(255) NOT NULL,
   client_ville VARCHAR(50) NOT NULL,
   client_pays VARCHAR(50) NOT NULL,
   client_code_postale INT NOT NULL,
   client_email VARCHAR(255) NOT NULL,
   client_password VARCHAR(255) NOT NULL,
   client_date_inscription DATETIME NOT NULL,
   PRIMARY KEY(client_id)
);

CREATE TABLE Demande(
   demande_id INT,
   demande_titre VARCHAR(255) NOT NULL,
   demande_description VARCHAR(255) NOT NULL,
   demande_date DATETIME NOT NULL,
   demande_budget INT,
   client_id INT NOT NULL,
   PRIMARY KEY(demande_id),
   FOREIGN KEY(client_id) REFERENCES Client(client_id)
);

CREATE TABLE Fournisseur(
   fournisseur_id INT,
   fournisseur_raison_social VARCHAR(50) NOT NULL,
   fournissur_siren VARCHAR(50) NOT NULL,
   fournisseur_responsable_legale VARCHAR(50),
   fournisseur_adresse VARCHAR(255) NOT NULL,
   fournisseur_ville VARCHAR(50) NOT NULL,
   fournisseur_pays VARCHAR(50) NOT NULL,
   fournisseur_code_postal INT NOT NULL,
   fournisseur_email VARCHAR(255) NOT NULL,
   fournisseur_password VARCHAR(255) NOT NULL,
   fournisseur_date_inscription DATETIME NOT NULL,
   PRIMARY KEY(fournisseur_id)
);

CREATE TABLE Reponse(
   reponse_id INT,
   reponse_titre VARCHAR(50) NOT NULL,
   reponse_description VARCHAR(255) NOT NULL,
   reponse_date DATETIME NOT NULL,
   reponse_tarif INT NOT NULL,
   demande_id INT NOT NULL,
   fournisseur_id INT NOT NULL,
   PRIMARY KEY(reponse_id),
   FOREIGN KEY(demande_id) REFERENCES Demande(demande_id),
   FOREIGN KEY(fournisseur_id) REFERENCES Fournisseur(fournisseur_id)
);
